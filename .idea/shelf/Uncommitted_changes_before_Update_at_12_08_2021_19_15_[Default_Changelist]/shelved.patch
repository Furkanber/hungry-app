Index: app/src/main/java/com/kodluyoruz/yahnifood/ui/add_address/AddAddressFragment.kt
IDEA additional info:
Subsystem: com.intellij.openapi.diff.impl.patch.BaseRevisionTextPatchEP
<+>package com.kodluyoruz.yahnifood.ui.add_address\r\n\r\nimport android.os.Bundle\r\nimport android.util.Log\r\nimport android.view.LayoutInflater\r\nimport android.view.View\r\nimport android.view.ViewGroup\r\nimport android.widget.Button\r\nimport android.widget.Toast\r\nimport androidx.fragment.app.viewModels\r\nimport androidx.navigation.fragment.findNavController\r\nimport com.kodluyoruz.yahnifood.data.entity.Address\r\nimport com.kodluyoruz.yahnifood.data.entity.UsersItem\r\nimport com.kodluyoruz.yahnifood.databinding.AddressListFragmentBinding\r\nimport com.kodluyoruz.yahnifood.databinding.FragmentAddAddressBinding\r\nimport com.kodluyoruz.yahnifood.databinding.FragmentEditProfileBinding\r\nimport com.kodluyoruz.yahnifood.ui.base.BaseFragment\r\nimport com.kodluyoruz.yahnifood.ui.edit_profile.EditProfileViewModel\r\nimport com.kodluyoruz.yahnifood.utils.Resource\r\nimport dagger.hilt.android.AndroidEntryPoint\r\n\r\n@AndroidEntryPoint\r\nclass AddAddressFragment : BaseFragment() {\r\n\r\n    private val viewModel: AddAddressViewModel by viewModels()\r\n    private  var token = -1\r\n    private lateinit var binding: FragmentAddAddressBinding\r\n    private lateinit var buttonAddAddress: Button\r\n    private lateinit var user: UsersItem\r\n\r\n    override fun onCreateView(\r\n        inflater: LayoutInflater,\r\n        container: ViewGroup?,\r\n        savedInstanceState: Bundle?\r\n    ): View? {\r\n        binding = FragmentAddAddressBinding.inflate(inflater, container, false)\r\n        return binding.root\r\n    }\r\n\r\n    override fun onViewCreated(view: View, savedInstanceState: Bundle?) {\r\n        super.onViewCreated(view, savedInstanceState)\r\n\r\n        getCurrentUser()\r\n        buttonAddAddress = binding.buttonAddAddress\r\n        buttonAddAddress.setOnClickListener{\r\n            addAddress()\r\n        }\r\n\r\n    }\r\n    fun getCurrentUser(){\r\n        token = viewModel.getToken()\r\n        viewModel.getUserWithId(token).observe(viewLifecycleOwner,{\r\n            when(it.status){\r\n\r\n                Resource.Status.LOADING -> {\r\n\r\n                }\r\n                Resource.Status.SUCCESS -> {\r\n                    user = it.data!![0]\r\n                }\r\n                Resource.Status.ERROR -> {\r\n\r\n                }\r\n            }\r\n        })\r\n    }\r\n    private fun addAddress(){\r\n        var title = binding.textInputEditTextAddressTitle.text.toString()\r\n        var district = binding.textInputEditTextAddressDistrict.text.toString()\r\n        var addressDetail = binding.textInputEditTextAddressDetail.text.toString()\r\n        user.address?.add(Address(title,\"\",addressDetail,district,\"\",\"\"))\r\n        viewModel.postAddress(token.toString(),user).observe(viewLifecycleOwner,{\r\n            when(it.status){\r\n                Resource.Status.SUCCESS ->{\r\n                    Toast.makeText(requireContext(),\"You added the address succesfully\",Toast.LENGTH_SHORT).show()\r\n                    findNavController().navigateUp()\r\n                }\r\n            }\r\n        })\r\n    }\r\n}
Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
<+>UTF-8
===================================================================
--- app/src/main/java/com/kodluyoruz/yahnifood/ui/add_address/AddAddressFragment.kt	(revision d9d4cf67326b42b65e7830d15ddc1f1ae7d7cd34)
+++ app/src/main/java/com/kodluyoruz/yahnifood/ui/add_address/AddAddressFragment.kt	(date 1628783034657)
@@ -9,6 +9,8 @@
 import android.widget.Toast
 import androidx.fragment.app.viewModels
 import androidx.navigation.fragment.findNavController
+import androidx.viewpager.widget.ViewPager
+import androidx.viewpager2.widget.ViewPager2
 import com.kodluyoruz.yahnifood.data.entity.Address
 import com.kodluyoruz.yahnifood.data.entity.UsersItem
 import com.kodluyoruz.yahnifood.databinding.AddressListFragmentBinding
